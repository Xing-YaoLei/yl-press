# 解构赋值

- 字符串解构

  ```js
  // 字符串解构
  const [a,b,c,d,e] = '早日退休'
  console.log(a) // 早
  console.log(b) // 日
  console.log(c) // 退
  console.log(d) // 休
  console.log(e) // undefined
  ```

- 对象解构

  - 普通用法

    ```js
    // 对象解构
    const obj = {
          a: "早",
          b: "日",
          c: "退",
          d: "休",
    };
    // 如果不是用解构赋值的情况下我们需要
    const a = obj.a
    ...
    const d = obj.d
    // 使用解构赋值则可以将代码量有效的缩减
    const { a, b, c, d, e } = obj;
    console.log(a) // 早
    console.log(b) // 日
    console.log(c) // 退
    console.log(d) // 休
    console.log(e) // undefined
    ```

  - 重新命名：如果数值名和自身想要定义的变量名不同的情况下可以在解构时

    ```js
    // 如果解构赋值的数据属性名和自己想要定义的变量名不同，则可以重新赋值如下所示
    const { a:study,b,c,d,e } = obj
    console.log(study) // 早
    ```

  - 默认值：在赋值过程中可能会出现undefined或者null的时候，为了避免这种情况我们可以使用默认的方式

    ```js
    const { a, b, c, d, e = 2 } = obj
    // 设置默认值的方式是当解构后没有值传入的情况下,
    // 会有一个默认值保底避免程序出现意想不到的错误。
    console.log(e) // 2
    ```

  - 易错点：被解构的对象不能为undefined或者null否则会报错终止代码运行

    ```js
    const obj = undefined
    const { a:study, b, c, d, e = 2 } = obj;
    console.log(e);
    // TypeError: Cannot destructure property 'a' of 'obj' as it is undefined.
    
    // 解决方案 通过使用或运算符给定一个空对象或者默认对象
    const { a:study, b, c, d, e } = obj || {}
    
    ```

- 数组解构

  - 基础用法

    ```js
    const arr = [1,2,3,4,5,6,7,7,8,9]
    const [ a, b, c, d ] = arr
    console.log(a) // 1
    console.log(b) // 2
    console.log(c) // 3
    console.log(d) // 4
    ```

  - 传递默认值

    ```js
    const arr = [ 5, 5, ]
    // 此数组共有三项 5 5 空
    const [ a, b, c ] = arr
    console.log(c) // undefined
    // 传递默认值后则会自动将默认值传入
    const [ a, b, c = 2 ] = arr
    console.log(c) // 2
    ```

  - 交换变量值

    ```js
    let a = 1;
    let b = 2;
    [a, b] = [b, a];
    console.log("a:", a); // a:2
    console.log("b:", b); // b:1
    ```

- 函数解构赋值

  - 函数数组解构

    ```js
    function fn([x = 0, y = 100]) {
        console.log(x, y);
    }
    fn([, 1]); // 0,1
    fn([100, ]); // 100,100
    fn(); // 0,100
    ```

  - 函数对象解构赋值

    ```js
    function fn({x=0,y=1}){
    	console.log(x,y)
    }
    fn({}) // 0 1
    fn({x:500}) // 500 1
    fn({y:100}) // 0 100
    fn({y:10,x:100}) // 100 10
    ```

- 剩余参数[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Rest_parameters)

  ```js
  function fn(x,y,...rest){
      // 其中 ... 为扩展运算符 后续会进行介绍
      console.log(x) // 1
      console.log(y) // 2
      console.log(rest) // [3,4,5,6,7,8,9]
  }
  fn(1,2,3,4,5,6,7,8,9)
  ```

  

  ::: warning 注意

  **undefined**和**null**无法转化为对象，因此无法进行解构

  如果解构不成功（没有值可以接收）的情况下，变量获取到的值为**undefined**

  解构赋值的规则：只要等号右边的值不是对象的情况下，会优先转换为对象的格式

  :::
