# Go 中使用Import导入的注意事项

在使用`import`导入包的时候，我们除了可以通过使用小括号的形式同时导入多个包以外，还有几个是需要我们注意和了解的。

## 匿名导入

在导入包的时候，通过使用下划线`_`的方式来匿名导入包，通常表示不直接使用该包里面的任何内容，只是希望这个包里面的Init函数被执行而已。如下所示

```go
// 文件路径 pack/lib/lib.go
package lib
import "fmt"

func init(){
  fmt.Println("libInitHandle")
}
```

```go
// 文件路径 /pack/index.go
package main

import (
  _ "pack/lib";
  // 我们通过import引入了上方lib文件夹下的lib.go这个包 并且通过下划线的方式进行匿名导入
)

func main(){
	// do something
}
```

输出结果如下所示

```sh
# > go run index.go 运行主程序
# libInit  // 我们只是导入了但是并没有在main函数中使用 却触发了lib文件夹中的init函数
# 输出main // 输出main
```

::: tip Tip

默认情况下我们在代码开发过程中如果**引入了**包但是**没有使用**的时候，编辑器是会自动抛出**错误**并且在运行过程中执行结果也会给出对应的错误信息。我们通过使用下划线进行匿名导入便不会报错，但是**个人认为**这种的引入方式可能会让代码更加难以理解。

:::

下面是一个简单的例子，演示了如何使用空白导入包来执行另一个包中的init函数：

```
package main

import (
	_ "github.com/go-sql-driver/mysql"
)

func main() {
	// do something
}
```

在上面的例子中，我们使用空白导入了一个名为"github.com/go-sql-driver/mysql"的包。该包是一个MySQL数据库的驱动程序，它会在初始化时自动注册到database/sql包中，从而使得用户可以通过database/sql接口来访问MySQL数据库。

由于我们只是希望该包中的init函数被执行，而不需要直接使用其中的任何内容，因此使用了空白导入的形式。这样，在程序运行时，该包中的init函数会被自动执行，从而注册了MySQL数据库驱动程序，使得程序可以使用该驱动来连接MySQL数据库。



## 命名导入

除了匿名导入包以外，也可以通过命名导入的方式将包导入到文件中去。在JavaScript中我们通过`import fs from "fs"`的方式来导入包，在Go中也有相似的使用方式，如下所示：

```go
package main
import (
	"fmt";
	plg "pack/plugins";
	// 如果为包起别名，那么在使用的时候，需要使用别名.方法进行调用
)

func main() {
	plg.PrintYes() // 在此处通过别名搭配方法进行调用 plugins 包中的PrintYes方法
}
```

使用别名导入包的主要优点是可以避免包名冲突。例如，如果我们需要同时使用两个包，并且它们都定义了相同的函数或类型，就可以使用别名来避免冲突。但是在命名定义的时候我们依旧需要遵从语义化的原则，让代码结构以及更加清晰。

## 点导入 & 导入到命名空间

除了以上的导入方式以外还可以通过点导入的方式来将包导入。这种导入方式可以理解你写了一堆的函数，但是这个文件代码太多了不好维护了，然后你给类似的工具函数单独搞了一个文件，然后又通过`import`的方式引入了回来，这种引入方式**跟直接写在这个文件里面使用方法相同**，直接**调用方法名**即可。

```go
import . "fmt"
func main(){
  Println("牛逼了！")
}
// 牛逼了！
```

